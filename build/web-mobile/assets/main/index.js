System.register("chunks:///_virtual/AdaptScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,r,o,s,c,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,c=e.UITransform,a=e.screen,l=e.Component}],execute:function(){var h,u,f,g,p;o._RF.push({},"8a5fbvS2qRIEqg6n+I6rZ4M","AdaptScreen",void 0);var d=s.ccclass,w=s.property;e("AdaptScreen",(h=d("AdaptScreen"),u=w(c),h((p=t((g=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"target",p,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){a.on("window-resize",this.onWindowResize,this),a.on("fullscreen-change",this.onFullScreenChange,this),this.target.width=a.windowSize.width,this.target.height=a.windowSize.height},o.onDestroy=function(){a.off("window-resize",this.onWindowResize,this),a.off("fullscreen-change",this.onFullScreenChange,this)},o.onWindowResize=function(e,t){console.log("Window resized:",e,t),this.setSize(e,t)},o.onFullScreenChange=function(e,t){console.log("Fullscreen change:",e,t),this.setSize(e,t)},o.setSize=function(e,t){this.target.width=e,this.target.height=t},o.update=function(e){},t}(l)).prototype,"target",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(t){var i,e,o,n,r,l,a,u,c,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.AudioSource,u=t.AudioClip,c=t.Component},function(t){p=t.playAudioEvent}],execute:function(){var s,h,b,f,y,C,d,w,S,v,O,g,A;r._RF.push({},"395c3tSOp5EOof+75ZoeOYW","AudioController",void 0);var m=l.ccclass,z=l.property,_=t("AUDIO_CLIP",function(t){return t[t.shoot=0]="shoot",t[t.blast=1]="blast",t[t.win=2]="win",t[t.hit=3]="hit",t}({}));t("AudioController",(s=m("AudioController"),h=z(a),b=z(u),f=z(u),y=z(u),C=z(u),s((S=i((w=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,o(i,"audioSource",S,n(i)),o(i,"shootClip",v,n(i)),o(i,"blastClip",O,n(i)),o(i,"winClip",g,n(i)),o(i,"hitClip",A,n(i)),i}e(i,t);var r=i.prototype;return r.start=function(){var t=this;p.on((function(i){switch(i){case _.shoot:t.playOneShot(t.shootClip);break;case _.blast:t.playOneShot(t.blastClip);break;case _.win:t.playOneShot(t.winClip);break;case _.hit:t.playOneShot(t.hitClip)}}))},r.playOneShot=function(t){this.audioSource.playOneShot(t,1)},r.update=function(t){},i}(c)).prototype,"audioSource",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(w.prototype,"shootClip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(w.prototype,"blastClip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(w.prototype,"winClip",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(w.prototype,"hitClip",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Ball.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioController.ts","./GameEvent.ts"],(function(e){var t,r,i,n,a,o,s,l,c,u,h,d,p,L,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Color,l=e.color,c=e.Material,u=e.MeshRenderer,h=e.RigidBody,d=e.Component},function(e){p=e.AUDIO_CLIP},function(e){L=e.getScoreEvent,m=e.playAudioEvent}],execute:function(){var f,v,y,A,B;e("convert2CCColor",(function(e){switch(e){case T.DarkBlue:return l(42,59,215);case T.Green:return s.GREEN;case T.LightBlue:return l(135,206,235);case T.Purple:return l(126,35,223);case T.Red:return l(209,63,57);case T.Yellow:return l(199,142,57);case T.White:return l(255,141,26);case T.Orange:return l(238,105,26);case T.Pink:return l(238,82,107);default:return s.WHITE}})),a._RF.push({},"11079K2JJ9Ee7DimDmBpm7q","Ball",void 0);var I=o.ccclass,g=o.property,T=e("BALL_COLOR",{None:0,DarkBlue:1,LightBlue:2,Green:3,Purple:4,Red:5,Yellow:6,Star:7,Rainbow:8,Stone:9,Black:10,White:11,Orange:12,Pink:13});var C=e("BALL_STATE",function(e){return e[e.NORMAL=0]="NORMAL",e[e.FALLING=1]="FALLING",e[e.BLAST=2]="BLAST",e}({}));e("Ball",(f=I("Ball"),v=g({type:[c]}),f((B=t((A=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"materials",B,n(t)),t.color=void 0,t.row=void 0,t.col=void 0,t.visited=void 0,t.connectedToTop=void 0,t.state=C.NORMAL,t.searchIndex=void 0,t}r(t,e);var a=t.prototype;return a.init=function(e,t,r){this.color=e,this.row=t,this.col=r,this.setMaterial(this.color)},a.setMaterial=function(e){var t;switch(e){case T.DarkBlue:t=this.materials[0];break;case T.Green:t=this.materials[1];break;case T.Yellow:t=this.materials[2];break;case T.Red:t=this.materials[3];break;case T.Purple:t=this.materials[4]}this.node.getComponent(u).material=t},a.handleBlast=function(e){var t=this;this.state=C.BLAST,this.searchIndex=e,setTimeout((function(){t.getComponent(h).type=h.Type.DYNAMIC,L.emit(),t.searchIndex%3==0&&m.emit(p.hit)}),1e3*this.searchIndex*.02)},a.handleFalling=function(e){var t=this;this.state=C.FALLING,this.searchIndex=e,setTimeout((function(){t.getComponent(h).type=h.Type.DYNAMIC,L.emit()}),1e3*this.searchIndex*.02)},a.update=function(e){this.state===C.BLAST?this.node.position.y<-30&&this.node.destroy():this.state===C.FALLING&&this.node.position.y<-30&&this.node.destroy()},t}(d)).prototype,"materials",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=A))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/BallManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ball.ts","./GameEvent.ts","./GameManager.ts","./Utils.ts"],(function(e){var t,a,n,r,l,i,o,s,c,h,u,f,g,v,p,d,B,b,m,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,o=e._decorator,s=e.Node,c=e.JsonAsset,h=e.Quat,u=e.instantiate,f=e.v3,g=e.Component},function(e){v=e.Ball},function(e){p=e.throwBallCollidedEvent,d=e.shakeEffectEvent,B=e.equipBallEvent},function(e){b=e.GameManager},function(e){m=e.distanceBetweenPoints,T=e.customIncludes}],execute:function(){var w,C,M,L,_,N,E,P,y,A;i._RF.push({},"3f0e7rBholBp61Z/f1NsK6X","BallManager",void 0);var S=o.ccclass,D=o.property,O=[[-1,0],[-1,1],[0,-1],[0,1],[1,0],[1,1]],F=[[-1,-1],[-1,0],[0,-1],[0,1],[1,-1],[1,0]];e("BallManager",(w=S("BallManager"),C=D(s),M=D(b),L=D(c),w((E=t((N=function(e){function t(){for(var t,a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return t=e.call.apply(e,[this].concat(l))||this,n(t,"ballTemplate",E,r(t)),n(t,"gameManager",P,r(t)),n(t,"ballConfigJson",y,r(t)),t.ballConfigData=void 0,t.balls=[],n(t,"rotationSpeed",A,r(t)),t.quat=new h,t}a(t,e);var i=t.prototype;return i.start=function(){var e=this;this.ballConfigData=this.ballConfigJson.json.balls,this.drawBalls(),p.on((function(t,a){d.emit(),e.placeBall(t,a)}))},i.getNeighbors=function(e,t){for(var a=[],n=0,r=e%2==0?F:O;n<r.length;n++){var l=r[n],i=l[0],o=l[1],s=e+i;if(!(s<0)){var c=t+o;c<0&&(c=this.gameManager.BALL_COUNT-1),c>this.gameManager.BALL_COUNT-1&&(c=0);var h=this.getBall(s,c);h&&a.push(h)}}return a},i.getFreePlaces=function(e,t){for(var a=[],n=0,r=e%2==0?F:O;n<r.length;n++){var l=r[n],i=l[0],o=l[1],s=e+i;if(!(s<0)){var c=t+o;c<0&&(c=this.gameManager.BALL_COUNT-1),c>this.gameManager.BALL_COUNT-1&&(c=0),this.getBall(s,c)||a.push({row:s,col:c})}}return a},i.getTopPlaces=function(){for(var e=[],t=0;t<this.gameManager.BALL_COUNT;t++)e.push({row:0,col:t});return e},i.placeBall=function(e,t){var a,n,r=Number.MAX_SAFE_INTEGER;n=t?this.getFreePlaces(t.row,t.col):this.getTopPlaces();var l=new s;l.setParent(this.node);for(var i=0;i<n.length;i++){var o=n[i],c=this.gameManager.grid2Position(o.row,o.col);l.position=c;var h=l.worldPosition,u=m(e.worldPosition,h);u<r&&(r=u,a=o)}l.destroy(),this.drawBall(a.row,a.col,e.color),this.checkBallsRemoval(a.row,a.col),B.emit()},i.checkBallsRemoval=function(e,t){var a=this.findSameColorBalls(e,t);if(a.length>=3){for(var n=0;n<a.length;n++){a[n].handleBlast(n)}this.removeBalls(a);var r=this.findSuspendedBalls();if(r.length>=1){for(var l=0;l<r.length;l++){r[l].handleFalling(l)}this.removeBalls(r)}}},i.removeBalls=function(e){this.balls=this.balls.filter((function(t){return!T(e,t)}))},i.resetVisited=function(){for(var e=0;e<this.balls.length;e++){this.balls[e].visited=!1}},i.resetConnectedToTop=function(){for(var e=0;e<this.balls.length;e++){this.balls[e].connectedToTop=!1}},i.findSameColorBalls=function(e,t){this.resetVisited();var a=[],n=[],r=this.getBall(e,t),i=r.color;for(a.push(r),r.visited=!0;a.length>0;){var o=a.shift();n.push(o);for(var s,c=this.getNeighbors(o.row,o.col),h=l(c);!(s=h()).done;){var u=s.value;u.visited||u.color!==i||(a.push(u),u.visited=!0)}}return n},i.isConnectedToTop=function(e){if(e.visited)return!1;if(0===e.row)return!0;e.visited=!0;for(var t,a=this.getNeighbors(e.row,e.col),n=l(a);!(t=n()).done;){var r=t.value;if(this.isConnectedToTop(r))return e.connectedToTop=!0,!0}return!1},i.findSuspendedBalls=function(){this.resetConnectedToTop();for(var e=[],t=0;t<this.balls.length;t++){var a=this.balls[t];a.connectedToTop||(this.resetVisited(),this.isConnectedToTop(a)||e.push(a))}return e},i.drawBall=function(e,t,a){var n=u(this.ballTemplate);n.name="Ball_"+e+"_"+t,n.scale=f(this.gameManager.BALL_NODE_SIZE,this.gameManager.BALL_NODE_SIZE,this.gameManager.BALL_NODE_SIZE),n.setParent(this.node);var r=this.gameManager.grid2Position(e,t);n.setPosition(r);var l=n.getComponent(v);l.init(a,e,t),this.balls.push(l)},i.drawBalls=function(){for(var e=0;e<this.ballConfigData.length;e++){var t=this.ballConfigData[e];this.drawBall(t.row,t.col,t.color)}},i.getBall=function(e,t){for(var a=0;a<this.balls.length;a++){var n=this.balls[a];if(n.row===e&&n.col===t)return n}},t}(g)).prototype,"ballTemplate",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(N.prototype,"gameManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(N.prototype,"ballConfigJson",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"rotationSpeed",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),_=N))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/BreathEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,a,i,n,o,c,s,u,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,c=e.Node,s=e.CCFloat,u=e.tween,l=e.Vec3,p=e.Component}],execute:function(){var f,h,d,g,y,b,v,F,w;n._RF.push({},"5454eIWHKJANrC5o93jYuFx","BreathEffect",void 0);var N=o.ccclass,m=o.property;e("BreathEffect",(f=N("BreathEffect"),h=m({type:c}),d=m({type:s}),g=m({type:s}),f((v=t((b=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"targetNode",v,i(t)),a(t,"duration",F,i(t)),a(t,"scaleFactor",w,i(t)),t}r(t,e);var n=t.prototype;return n.start=function(){this.breath()},n.breath=function(){var e=u(this.targetNode).to(this.duration/2,{scale:new l(1+this.scaleFactor,1+this.scaleFactor,1)},{easing:"sineInOut"}),t=u(this.targetNode).to(this.duration/2,{scale:new l(1,1,1)},{easing:"sineInOut"});u(this.targetNode).sequence(e,t).repeatForever().start()},t}(p)).prototype,"targetNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(b.prototype,"duration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=t(b.prototype,"scaleFactor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),y=b))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/CameraController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,o,n,a,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Node,l=t.misc,u=t.Component}],execute:function(){var c,p,h,d,g,f,m;n._RF.push({},"ca806MxGBBA/671To9CqI1H","CameraController",void 0);var C=a.ccclass,y=a.property;t("CameraController",(c=C("CameraController"),p=y(s),c((g=e((d=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"target",g,o(e)),r(e,"radius",f,o(e)),r(e,"speed",m,o(e)),e.angle=0,e}i(e,t);var n=e.prototype;return n.start=function(){this.updateCameraPosition()},n.update=function(t){this.angle+=this.speed*t,this.angle%=360,this.updateCameraPosition()},n.updateCameraPosition=function(){var t=l.degreesToRadians(this.angle),e=this.target.position.x+this.radius*Math.cos(t),i=this.target.position.y,r=this.target.position.z+this.radius*Math.sin(t);this.node.setPosition(e,i,r),this.node.lookAt(this.target.position)},e}(u)).prototype,"target",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(d.prototype,"radius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),m=e(d.prototype,"speed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),h=d))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/ColorObject.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,n,i,c,a,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.Color,l=e.MeshRenderer,s=e.Component}],execute:function(){var u,p,f,h,y;i._RF.push({},"fe7012X4x1MRqDIaTMHtNa7","ColorObject",void 0);var b=c.ccclass,C=c.property;e("ColorObject",(u=b("ColorObject"),p=C(a),u((y=t((h=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,o(t,"color",y,n(t)),t}r(t,e);var i=t.prototype;return i.start=function(){this.getComponent(l).getMaterialInstance(0).setProperty("mainColor",this.color)},i.update=function(e){},t}(s)).prototype,"color",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/DownloadBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,e,a;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,a=n.Component}],execute:function(){var r;t._RF.push({},"806a8wNFSFIm70IaJmx+6fV","DownloadBtn",void 0);var c=e.ccclass;e.property,n("DownloadBtn",c("DownloadBtn")(r=function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var e=t.prototype;return e.start=function(){},e.click=function(){try{PlayableSDK.game_end(),PlayableSDK.download()}catch(n){console.warn(n)}},t}(a))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/Events.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s,n;return{setters:[function(e){t=e.createClass,s=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"de203UkizFILr8eGdS5pGO1","Events",void 0);var i=e("Disposable",function(){function e(e){this._disposed=void 0,this._disposalAction=void 0,this._disposed=!1,this._disposalAction=e}return e.prototype.dispose=function(){this.disposed||(this._disposed=!0,this._disposalAction())},t(e,[{key:"disposed",get:function(){return this._disposed}}]),e}()),r=(e("CompositeDisposable",function(){function e(){this._disposed=void 0,this._disposables=void 0,this._disposed=!1,this._disposables=new Set;for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];for(var n=0,i=t;n<i.length;n++){var r=i[n];this.add(r)}}var s=e.prototype;return s.add=function(e){this._disposed||this._disposables.add(e)},s.remove=function(e){this._disposed||this._disposables.delete(e)},s.clear=function(){this._disposed||this._disposables.clear()},s.dispose=function(){this._disposed||(this._disposed=!0,this._disposables.forEach((function(e){return e.dispose()})),this._disposables.clear())},t(e,[{key:"disposed",get:function(){return this._disposed}}]),e}()),e("Event",function(){function e(e,t){var s=this;this.emitter=void 0,this.name=void 0,this.emit=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift(s.name),s.emitter.emit.apply(s.emitter,t)},this.emitter=e,this.name=t}var t=e.prototype;return t.getName=function(){return this.name},t.toString=function(){return"[Event "+this.name.toString()+"]"},t.on=function(e,t){return void 0===t&&(t=!1),this.emitter.on(this.name,e,t)},t.once=function(e,t){return void 0===t&&(t=!1),this.emitter.once(this.name,e,t)},t.hasHandler=function(e){return this.emitter.hasHandler(this.name,e)},t.handlerCount=function(){return this.emitter.handlerCountForEventName(this.name)},e}()));e("Emitter",function(){function e(){var e=this;this._disposed=void 0,this._handlersByEventName=void 0,this.off=function(t,n){if(e._disposed)throw new Error("Emitter has been diposed");var i=e._handlersByEventName.get(t);if(i){for(var r,o=[],a=s(i);!(r=a()).done;){var d=r.value;d!=n&&o.push(d)}o.length?e._handlersByEventName.set(t,o):e._handlersByEventName.delete(t)}},this._disposed=!1,this._handlersByEventName=new Map}var n=e.prototype;return n.clear=function(){this._disposed||this._handlersByEventName.clear()},n.dispose=function(){this._disposed||(this._disposed=!0,this._handlersByEventName.clear())},n.createEvent=function(e){return new r(this,e||Symbol("Event"))},n.on=function(e,t,s){if(void 0===s&&(s=!1),this._disposed)throw new Error("Emitter has been diposed");var n=this._handlersByEventName.get(e);return n?s?n.unshift(t):n.push(t):this._handlersByEventName.set(e,[t]),new i(this.off.bind(this,e,t))},n.once=function(e,t,s){void 0===s&&(s=!1);var n=this.on(e,(function(){return n.dispose(),t.apply(void 0,arguments)}),s);return n},n.hasHandler=function(e,t){if(this._disposed)throw new Error("Emitter has been diposed");var s=this._handlersByEventName.get(e);return!!s&&!!s.find(t)},n.emit=function(e){if(this._disposed)throw new Error("Emitter has been diposed");var t=this._handlersByEventName.get(e);t||(t=[]);for(var n=[],i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];for(var a,d=s(t);!(a=d()).done;){var h=a.value;try{var u=h.apply(void 0,r);void 0===u?n.push(Promise.resolve()):u instanceof Promise?n.push(u):n.push(Promise.resolve(u))}catch(e){console.error(e,e.stack)}}return n},n.getEventNames=function(){for(var e,t=[],n=s(this._handlersByEventName.keys());!(e=n()).done;){var i=e.value;"string"==typeof i&&t.push(i)}return t},n.getEventSymbols=function(){for(var e,t=[],n=s(this._handlersByEventName.keys());!(e=n()).done;){var i=e.value;"symbol"==typeof i&&t.push(i)}return t},n.handlerCountForEventName=function(e){var t=this._handlersByEventName.get(e);return t?t.length:0},n.getTotalListenerCount=function(){for(var e,t=0,n=s(this._handlersByEventName.keys());!(e=n()).done;){var i=e.value,r=this._handlersByEventName.get(i),o=0;r&&(o=r.length),t+=o}return t},t(e,[{key:"disposed",get:function(){return this._disposed}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/FingerClickEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,a,o,c,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.CCFloat,s=t.tween,l=t.Vec3,u=t.Component}],execute:function(){var f,p,h,F,y,d,g;a._RF.push({},"a9485Xghi5HJYDp8ATXaFLR","FingerClickEffect",void 0);var v=o.ccclass,b=o.property;t("FingerClickEffect",(f=v("FingerClickEffect"),p=b({type:c}),h=b({type:c}),f((d=e((y=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"duration",d,n(e)),i(e,"scaleFactor",g,n(e)),e}r(e,t);var a=e.prototype;return a.start=function(){this.startClickEffect()},a.startClickEffect=function(){var t=.4;s(this.node).to(this.duration,{scale:new l(this.scaleFactor*t,this.scaleFactor*t,this.scaleFactor*t)}).to(this.duration,{scale:new l(t,t,t)}).union().repeatForever().start();s(this.node).by(this.duration,{eulerAngles:new l(0,0,10)}).by(this.duration,{eulerAngles:new l(0,0,-10)}).union().repeatForever().start()},e}(u)).prototype,"duration",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),g=e(y.prototype,"scaleFactor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),F=y))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1be4ePKHDZLY4oKR+fhBU+Q","GameConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc","./Events.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Emitter}],execute:function(){t._RF.push({},"626469PtsNJF5pgEgmauwu2","GameEvent",void 0);var a=new n;e("launchBallEvent",a.createEvent()),e("equipBallEvent",a.createEvent()),e("throwBallCollidedEvent",a.createEvent()),e("shakeEffectEvent",a.createEvent()),e("playAudioEvent",a.createEvent()),e("getScoreEvent",a.createEvent()),e("gameEndEvent",a.createEvent()),e("showGuideLineEvent",a.createEvent()),e("hideGuideLineEvent",a.createEvent()),e("ballColorChangeEvent",a.createEvent()),e("swapColorBallEvent",a.createEvent());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,a,n,s,o,c,h,u,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,o=t.Node,c=t.misc,h=t.Vec3,u=t.v3,_=t.Component}],execute:function(){var l,p,E,N,T;n._RF.push({},"ac4aaTQhmVKT7TOwEnkz87J","GameManager",void 0);var d=s.ccclass,f=s.property;t("GameManager",(l=d("GameManager"),p=f(o),l((T=e((N=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,r(e,"tower",T,a(e)),e.BALL_SIZE=1,e.BALL_COUNT=25,e.BALL_NODE_SIZE=1.08*e.BALL_SIZE,e.EVEN_POINTS=[],e.ODD_POINTS=[],e.ROW_SPACE=Math.sin(c.degreesToRadians(60))*e.BALL_SIZE,e.MIN_X=Number.MAX_SAFE_INTEGER,e.MAX_X=Number.MIN_SAFE_INTEGER,e}i(e,t);var n=e.prototype;return n.start=function(){this.createPoints(this.EVEN_POINTS),this.createPoints(this.ODD_POINTS,!0)},n.grid2Position=function(t,e){var i=t%2==0?this.EVEN_POINTS:this.ODD_POINTS,r=h.clone(i[e]);return u(r.x,r.y-t*this.ROW_SPACE,r.z)},n.getThrowerPosition=function(){return this.grid2Position(22,0).add(u(0,1,0))},n.setTowerSize=function(t){var e=2*(t-this.BALL_SIZE/2);this.tower.scale=u(e,2*e,e)},n.getRadius=function(){var t=this.BALL_COUNT,e=this.BALL_SIZE,i=360/t,r=c.degreesToRadians(i),a=Math.cos(r),n=2*Math.pow(e/2,2)/(1-a);return Math.sqrt(n)},n.createPoints=function(t,e){void 0===e&&(e=!1);var i=u(0,0,0),r=this.getRadius();this.setTowerSize(r);var a=this.BALL_COUNT,n=360/a,s=0;e&&(s=n/2);for(var o=0;o<a;o++){var h=(o+.5)*n-s,_=c.degreesToRadians(h),l=i.x+r*Math.cos(_),p=i.y,E=i.z+r*Math.sin(_);l<this.MIN_X&&(this.MIN_X=l),l>this.MAX_X&&(this.MAX_X=l),t.push(u(l,p,E))}return t.reverse(),this.initBallPlace(t),t},n.initBallPlace=function(t,e){void 0===e&&(e=0);for(var i=7+e,r=0;r<i;r++){var a=t.pop();t.unshift(a)}},e}(_)).prototype,"tower",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=N))||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/GuideLine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ball.ts"],(function(e){var n,t,i,r,o,a,l,s,c,u,g,h,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Line,s=e.GradientRange,c=e.Color,u=e.CurveRange,g=e.v2,h=e.Component},function(e){d=e.convert2CCColor}],execute:function(){var p,v,R,f,y;o._RF.push({},"b502dC9MTlAxLZ+M4sOfavv","GuideLine",void 0);var C=a.ccclass,L=a.property;e("GuideLine",(p=C("GuideLine"),v=L(l),p((y=n((f=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"line",y,r(n)),n.gradientRange=null,n.curveRange=null,n.tileUnit=2.2177153465663353,n}t(n,e);var o=n.prototype;return o.start=function(){this.gradientRange=new s,this.gradientRange.mode=s.Mode.Color,this.gradientRange.color=c.WHITE,this.line.color=this.gradientRange,this.curveRange=new u,this.curveRange.mode=u.Mode.Constant,this.curveRange.constant=.5,this.line.width=this.curveRange},o.drawLine=function(e,n,t){this.node.active=!0,this.line.positions=[n,t],this.gradientRange.color=d(e),this.line.color=this.gradientRange;var i=n.clone().subtract(t).length();this.line.tile=g(Math.floor(i*this.tileUnit),1)},n}(h)).prototype,"line",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=f))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/LeftRightMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,c,s,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.CCFloat,s=t.tween,u=t.Vec3,p=t.Component}],execute:function(){var l,f,h,d,y,v,g;o._RF.push({},"baaf18ypatE4Zt0XmXjQ9uC","LeftRightMovement",void 0);var m=a.ccclass,b=a.property;t("LeftRightMovement",(l=m("LeftRightMovement"),f=b({type:c}),h=b({type:c}),l((v=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"distance",v,r(e)),n(e,"duration",g,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){this.moveLeftAndRight()},o.moveLeftAndRight=function(){s(this.node).repeatForever(s().by(this.duration,{position:new u(this.distance,0,0)}).by(this.duration,{position:new u(-this.distance,0,0)})).start()},e}(p)).prototype,"distance",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),g=e(y.prototype,"duration",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),d=y))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/LightEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,o,a,c,l,f,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,l=t.CCFloat,f=t.tween,p=t.Vec3,u=t.Component}],execute:function(){var s,h,g,y,d,b,v;o._RF.push({},"02d91/xIb5Nf5p+SMwETO2R","LightEffect",void 0);var E=a.ccclass,L=a.property;t("LightEffect",(s=E("LightEffect"),h=L({type:c}),g=L({type:l}),s((b=e((d=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"lightEffect",b,n(e)),i(e,"rotationSpeed",v,n(e)),e}r(e,t);var o=e.prototype;return o.start=function(){this.rotateLight()},o.rotateLight=function(){f(this.lightEffect).repeatForever(f().by(1,{eulerAngles:new p(0,0,this.rotationSpeed)})).start()},e}(u)).prototype,"lightEffect",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(d.prototype,"rotationSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),y=d))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AdaptScreen.ts","./AudioController.ts","./Ball.ts","./BallManager.ts","./BreathEffect.ts","./CameraController.ts","./ColorObject.ts","./DownloadBtn.ts","./Events.ts","./FingerClickEffect.ts","./GameConfig.ts","./GameEvent.ts","./GameManager.ts","./GuideLine.ts","./LeftRightMovement.ts","./LightEffect.ts","./RotateAroundParent.ts","./RotateOnSwipe.ts","./Score.ts","./ShakeEffect.ts","./StopPropagation.ts","./SwapColor.ts","./ThrowBall.ts","./ThrowBallColor.ts","./Thrower.ts","./TreasureBoxEffect.ts","./UIController.ts","./Utils.ts","./random.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/random.ts",["cc"],(function(r){var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){var t;r("random",void 0),n._RF.push({},"6a614Y4w1dMj4MwupUaqvdY","random",void 0),function(r){var n;r.integer=function(r,n){return void 0===r&&(r=0),void 0===n&&(n=1),Math.floor(Math.random()*(n-r+1)+r)},r.float=function(r,n,t){return void 0===r&&(r=0),void 0===n&&(n=1),void 0===t&&(t=4),Number((Math.random()*(n-r)+r).toFixed(t))},r.boolean=function(r){return void 0===r&&(r=50),100*Math.random()<r},r.pick=function(r,n){if(0===r.length)throw new RangeError("pick: Cannot pick() from an empty array");return void 0===n?r[t.integer(0,r.length-1)]:t.shuffle(r).slice(0,n)},r.shuffle=function(r){for(var n=[],o=r.length,a=Array.apply(null,Array(o)).map((function(r,n){return n})),e=o-1,i=0;i<o;i++){var h=t.integer(0,e),d=a[h];n[i]=r[d],a[h]=a[e],e-=1}return n},r.weighted=function(r,n,t){if(void 0===t&&(t=!1),r.length!==n.length)throw new RangeError("weighted:: Length of array and weights must match");for(var o,a=0,e=0;e<n.length;++e)(o=n[e])>0&&(a+=o);if(0===a)throw new RangeError("weighted:: No valid entries in array weights");for(var i=Math.random()*a,h=0,d=-1,u=0,v=0;v<n.length;++v){if(h+=o=n[v],o>0){if(i<=h){u=v;break}d=v}v===n.length-1&&(u=d)}var c=r[u];return t&&(r.splice(u,1),n.splice(u,1)),c},r.inCircle=function(r,n,t){void 0===r&&(r=1),void 0===n&&(n=0),void 0===t&&(t=0);var o=2*Math.random()*Math.PI,a=Math.sqrt(Math.random())*r;return{x:n+Math.cos(o)*a,y:t+Math.sin(o)*a}},r.onCircle=function(r,n,t){void 0===r&&(r=1),void 0===n&&(n=0),void 0===t&&(t=0);var o=2*Math.random()*Math.PI;return{x:n+Math.cos(o)*r,y:t+Math.sin(o)*r}};var o=!1;r.normal=function(r,t){if(void 0===r&&(r=0),void 0===t&&(t=1),o)return o=!1,n*t+r;var a,e,i;do{i=(a=2*Math.random()-1)*a+(e=2*Math.random()-1)*e}while(i>=1||0===i);return i=Math.sqrt(-2*Math.log(i)/i),n=e*i,o=!0,r+t*a*i}}(t||(t=r("random",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/RotateAroundParent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,o,i,a,u,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,u=t.Node,l=t.Quat,c=t.Component}],execute:function(){var p,s,d,f,h,y,b,v;i._RF.push({},"5c68df9UsNH2aQnVVVEV5G3","RotateAroundParent",void 0);var N=a.ccclass,g=a.property;t("RotateAroundParent",(p=N("RotateAroundParent"),s=g(u),d=g(u),p((y=e((h=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"parentNode",y,o(e)),n(e,"childNode",b,o(e)),n(e,"rotationSpeed",v,o(e)),e.quat=new l,e}return r(e,t),e.prototype.update=function(t){var e=this.rotationSpeed*t;l.fromEuler(this.quat,0,e,0);var r=l.clone(this.parentNode.rotation);l.multiply(r,this.quat,r),this.parentNode.rotation=r},e}(c)).prototype,"parentNode",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(h.prototype,"childNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(h.prototype,"rotationSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/RotateOnSwipe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(t){var i,e,o,n,r,a,s,u,c,h,l,d,p,g,v,f,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,u=t.Vec2,c=t.Quat,h=t.v3,l=t.tween,d=t.Sprite,p=t.Color,g=t.Component},function(t){v=t.showGuideLineEvent,f=t.hideGuideLineEvent,y=t.launchBallEvent}],execute:function(){var T,w,b,m,G,E,O,S,C,L,M;r._RF.push({},"ac225+nK75CW4F+JOsfa05J","RotateOnSwipe",void 0);var P=a.ccclass,R=a.property;t("RotateOnSwipe",(T=P("RotateOnSwipe"),w=R(s),b=R(s),m=R(s),G=R(s),T((S=i((O=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,o(i,"rotatingObject",S,n(i)),o(i,"towerBase",C,n(i)),o(i,"dragGuide",L,n(i)),o(i,"tapGuide",M,n(i)),i.isTouching=!1,i.touchStartPos=u.ZERO,i.isMoved=!1,i.quat=new c,i}e(i,t);var r=i.prototype;return r.start=function(){this.node.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},r.onTouchStart=function(t){this.touchStartPos=t.getLocation(),this.isTouching=!0,this.isMoved=!1,v.emit(h(this.touchStartPos.x,this.touchStartPos.y,0))},r.onTouchMove=function(t){if(this.isTouching){this.isMoved=!0,f.emit();var i=.2*t.getLocation().subtract(this.touchStartPos).x;c.fromEuler(this.quat,0,i,0);var e=c.clone(this.rotatingObject.rotation);c.multiply(e,this.quat,e),this.rotatingObject.rotation=e,e=c.clone(this.towerBase.rotation),c.multiply(e,this.quat,e),this.towerBase.rotation=e,this.touchStartPos=t.getLocation()}},r.onTouchEnd=function(t){var i=this;if(f.emit(),this.isTouching=!1,!1===this.isMoved){if(this.dragGuide.isValid&&this.dragGuide.active)return;var e=t.getLocation();y.emit(h(e.x,e.y,0)),this.tapGuide.isValid&&l(this.tapGuide.getComponent(d)).to(.2,{color:new p(255,255,255,0)}).call((function(){i.tapGuide.destroy()})).start()}else this.dragGuide.isValid&&l(this.dragGuide.getComponent(d)).to(.2,{color:new p(255,255,255,0)}).call((function(){i.dragGuide.destroy(),i.tapGuide.active=!0;var t=i.tapGuide.getComponent(d);t.color=new p(255,255,255,0),l(t).to(.2,{color:new p(255,255,255,255)}).start()})).start()},i}(g)).prototype,"rotatingObject",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(O.prototype,"towerBase",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(O.prototype,"dragGuide",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(O.prototype,"tapGuide",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=O))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/Score.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(e){var t,r,o,n,i,c,s,a,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,s=e.Label,a=e.Component},function(e){l=e.getScoreEvent,u=e.gameEndEvent}],execute:function(){var p,f,g,v,h;i._RF.push({},"44f75w8FUpHzaXMzEomL7sQ","Score",void 0);var y=c.ccclass,b=c.property;e("Score",(p=y("Score"),f=b({type:s}),p((h=t((v=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,o(t,"scoreLabel",h,n(t)),t.score=0,t}r(t,e);var i=t.prototype;return i.start=function(){var e=this;this.scoreLabel.string=this.score.toString(),l.on((function(){e.score++,e.scoreLabel.string=e.score.toString(),93===e.score&&u.emit()}))},i.update=function(e){},t}(a)).prototype,"scoreLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(t){var e,n,i,r,o,a,s,u,c,l,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,u=t.CCFloat,c=t.tween,l=t.Vec3,p=t.Component},function(t){f=t.shakeEffectEvent}],execute:function(){var h,g,y,b,d,v,k,w,E;o._RF.push({},"3e4d60biphF1rbnpvkw4VsA","ShakeEffect",void 0);var m=a.ccclass,z=a.property;t("ShakeEffect",(h=m("ShakeEffect"),g=z({type:s}),y=z({type:u}),b=z({type:u}),h((k=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"targetNode",k,r(e)),i(e,"duration",w,r(e)),i(e,"strength",E,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){var t=this;f.on((function(){t.shake()}))},o.shake=function(){c(this.targetNode).by(this.duration,{position:new l(0,this.strength,0)},{easing:"sineInOut"}).by(this.duration,{position:new l(0,2*-this.strength,0)},{easing:"sineInOut"}).by(this.duration,{position:new l(0,this.strength,0)},{easing:"sineInOut"}).start()},e}(p)).prototype,"targetNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(v.prototype,"duration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),E=e(v.prototype,"strength",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),d=v))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/StopPropagation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,e,i,a,s,r,p;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,s=o._decorator,r=o.Node,p=o.Component}],execute:function(){var c,h,u,T,l;a._RF.push({},"76478LS9CxOX5NmtHyd5knR","StopPropagation",void 0);var d=s.ccclass,f=s.property;o("StopPropagation",(c=d("StopPropagation"),h=f({type:r}),c((l=t((T=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=o.call.apply(o,[this].concat(a))||this,e(t,"maskNode",l,i(t)),t}n(t,o);var a=t.prototype;return a.onLoad=function(){this.maskNode.on(r.EventType.TOUCH_START,this.onTouchStart,this),this.maskNode.on(r.EventType.TOUCH_MOVE,this.onTouchMove,this),this.maskNode.on(r.EventType.TOUCH_END,this.onTouchEnd,this),this.maskNode.on(r.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},a.onDestroy=function(){this.maskNode.off(r.EventType.TOUCH_START,this.onTouchStart,this),this.maskNode.off(r.EventType.TOUCH_MOVE,this.onTouchMove,this),this.maskNode.off(r.EventType.TOUCH_END,this.onTouchEnd,this),this.maskNode.off(r.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},a.onTouchStart=function(o){o.propagationStopped=!0;try{PlayableSDK.game_end(),PlayableSDK.download()}catch(o){console.warn(o)}},a.onTouchMove=function(o){o.propagationStopped=!0},a.onTouchEnd=function(o){o.propagationStopped=!0},a.onTouchCancel=function(o){o.propagationStopped=!0},t}(p)).prototype,"maskNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=T))||u));a._RF.pop()}}}));

System.register("chunks:///_virtual/SwapColor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(o){var t,n,e,r,c;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,r=o.Component},function(o){c=o.swapColorBallEvent}],execute:function(){var p;n._RF.push({},"e67d8w51iJMnacByM+zqXHp","SwapColor",void 0);var a=e.ccclass;e.property,o("SwapColor",a("SwapColor")(p=function(o){function n(){return o.apply(this,arguments)||this}return t(n,o),n.prototype.swap=function(){c.emit()},n}(r))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/ThrowBall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ball.ts","./GameEvent.ts"],(function(e){var t,r,i,a,n,o,l,s,c,h,u,d,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Material,s=e.MeshRenderer,c=e.SphereCollider,h=e.Component},function(e){u=e.BALL_COLOR,d=e.Ball,p=e.BALL_STATE},function(e){g=e.gameEndEvent}],execute:function(){var f,m,T,b,v;n._RF.push({},"5d8b5uyrhRI7qi0TrFVY5HT","ThrowBall",void 0);var C=o.ccclass,E=o.property,L=e("THROW_BALL_STATE",function(e){return e[e.IDLE=0]="IDLE",e[e.MOVING=1]="MOVING",e}({}));e("ThrowBall",(f=C("ThrowBall"),m=E({type:[l]}),f((v=t((b=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"materials",v,a(t)),t.collidedCallback=void 0,t.color=void 0,t.state=void 0,t}r(t,e);var n=t.prototype;return n.setColor=function(e){this.color=e,this.setMaterial(e)},n.getColor=function(){return this.color},n.setMaterial=function(e){var t;switch(e){case u.DarkBlue:t=this.materials[0];break;case u.Green:t=this.materials[1];break;case u.Yellow:t=this.materials[2];break;case u.Red:t=this.materials[3];break;case u.Purple:t=this.materials[4]}this.node.getComponent(s).material=t},n.setCollidedCallback=function(e){this.collidedCallback=e},n.triggerEnable=function(e){var t=this.node.getComponent(c);e?t.on("onTriggerEnter",this.onTriggerEnter,this):t.off("onTriggerEnter",this.onTriggerEnter,this)},n.onTriggerEnter=function(e){var t=e.otherCollider.node.getComponent(d);t.state===p.NORMAL&&(this.state!==L.IDLE?(this.triggerEnable(!1),this.collidedCallback&&this.collidedCallback(t)):g.emit())},n.update=function(e){},t}(h)).prototype,"materials",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=b))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/ThrowBallColor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ball.ts","./GameEvent.ts"],(function(o){var t,r,n,e,l,c,s;return{setters:[function(o){t=o.inheritsLoose},function(o){r=o.cclegacy,n=o._decorator,e=o.MeshRenderer,l=o.Component},function(o){c=o.convert2CCColor},function(o){s=o.ballColorChangeEvent}],execute:function(){var a;r._RF.push({},"bf8bczJZkZOlZG9nExdAd23","ThrowBallColor",void 0);var i=n.ccclass;n.property,o("ThrowBallColor",i("ThrowBallColor")(a=function(o){function r(){return o.apply(this,arguments)||this}t(r,o);var n=r.prototype;return n.start=function(){var o=this;s.on((function(t){o.setColor(t)}))},n.setColor=function(o){this.getComponent(e).getMaterialInstance(0).setProperty("mainColor",c(o))},r}(l))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/Thrower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioController.ts","./Ball.ts","./GameEvent.ts","./GameManager.ts","./GuideLine.ts","./ThrowBall.ts","./Utils.ts"],(function(t){var i,e,o,n,l,r,a,s,h,u,c,d,w,B,g,m,f,p,v,L,C,y,b,P,E,T,S,_,M,D;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,a=t.Node,s=t.Camera,h=t.UITransform,u=t.Vec3,c=t.instantiate,d=t.v3,w=t.geometry,B=t.PhysicsSystem,g=t.Component},function(t){m=t.AUDIO_CLIP},function(t){f=t.BALL_COLOR},function(t){p=t.launchBallEvent,v=t.equipBallEvent,L=t.showGuideLineEvent,C=t.hideGuideLineEvent,y=t.swapColorBallEvent,b=t.ballColorChangeEvent,P=t.throwBallCollidedEvent,E=t.playAudioEvent},function(t){T=t.GameManager},function(t){S=t.GuideLine},function(t){_=t.ThrowBall,M=t.THROW_BALL_STATE},function(t){D=t.getRandomElement}],execute:function(){var G,R,z,A,I,O,x,N,V,k,q,X,F;l._RF.push({},"613cbt9TxRJxaQFhCuxNOXE","Thrower",void 0);var U=r.ccclass,Z=r.property;t("Thrower",(G=U("Thrower"),R=Z(a),z=Z(T),A=Z({type:s}),I=Z({type:h}),O=Z(S),G((V=i((N=function(t){function i(){for(var i,e=arguments.length,l=new Array(e),r=0;r<e;r++)l[r]=arguments[r];return i=t.call.apply(t,[this].concat(l))||this,o(i,"throwBallTemplate",V,n(i)),i.throwBall=null,o(i,"gameManager",k,n(i)),o(i,"mainCamera",q,n(i)),o(i,"uiTransform",X,n(i)),o(i,"guideLine",F,n(i)),i.SPEED=40,i.moving=!1,i.direction=new u,i.throwBallScreenPosition=null,i.guideLineVisible=!1,i}e(i,t);var l=i.prototype;return l.start=function(){var t=this;this.init(),this.equipBall(),p.on((function(i){!1!==t.throwBall.node.active&&(t.moving||t.launch(i))})),v.on((function(){t.equipBall()})),L.on((function(i){t.guideLineVisible||t.drawGuideLine(i)})),C.on((function(){!1!==t.guideLineVisible&&t.eraseGuideLine()})),y.on((function(){t.swapColor()}))},l.init=function(){var t=this;this.throwBall=c(this.throwBallTemplate).getComponent(_),this.throwBall.node.parent=this.node,this.throwBall.node.scale=d(this.gameManager.BALL_NODE_SIZE,this.gameManager.BALL_NODE_SIZE,this.gameManager.BALL_NODE_SIZE),this.throwBall.setCollidedCallback((function(i){t.handleCollided(t.throwBall,i)}))},l.getRandomColor=function(t){var i=[f.DarkBlue,f.Red,f.Yellow];return D(i,t)},l.swapColor=function(){if(this.throwBall.state===M.IDLE){var t=this.getRandomColor(this.throwBall.getColor());this.throwBall.setColor(t),b.emit(t)}},l.equipBall=function(){this.throwBall.node.active=!0,this.throwBall.state=M.IDLE,this.throwBall.node.setPosition(this.gameManager.getThrowerPosition());var t=this.getRandomColor(this.throwBall.getColor());this.throwBall.setColor(t),this.throwBall.triggerEnable(!0),b.emit(t)},l.handleCollided=function(t,i){var e=this;this.moving=!1,setTimeout((function(){var o=t.node.worldPosition;e.throwBall.node.active=!1,P.emit({color:t.getColor(),worldPosition:o},i)}))},l.drawGuideLine=function(t){this.throwBallScreenPosition||(this.throwBallScreenPosition=this.mainCamera.worldToScreen(this.throwBall.node.worldPosition));var i=d(this.throwBallScreenPosition.x,this.throwBallScreenPosition.y,0),e=t.subtract(i).normalize(),o=new w.Ray(this.throwBall.node.worldPosition.x,this.throwBall.node.worldPosition.y,this.throwBall.node.worldPosition.z,e.x,e.y,e.z);if(B.instance.raycastClosest(o,2,1e5,!1)){var n=B.instance.raycastClosestResult.hitPoint;this.guideLine.drawLine(this.throwBall.getColor(),this.throwBall.node.worldPosition,n),this.guideLineVisible=!0}},l.eraseGuideLine=function(){this.guideLine.node.active=!1,this.guideLineVisible=!1},l.launch=function(t){this.throwBallScreenPosition||(this.throwBallScreenPosition=this.mainCamera.worldToScreen(this.throwBall.node.worldPosition));var i=d(this.throwBallScreenPosition.x,this.throwBallScreenPosition.y,0);t.y-i.y<-30||(this.direction=t.subtract(i).normalize(),this.moving=!0,this.throwBall.state=M.MOVING,E.emit(m.shoot))},l.checkOutTower=function(){return(this.throwBall.node.position.y>=0||this.throwBall.node.position.x>2*this.gameManager.MAX_X||this.throwBall.node.position.x<2*this.gameManager.MIN_X)&&(this.moving=!1,this.equipBall(),!0)},l.update=function(t){if(!1!==this.moving){var i=this.SPEED*t;this.throwBall.node.position=this.throwBall.node.position.add(this.direction.clone().multiplyScalar(i)),this.checkOutTower()}},i}(g)).prototype,"throwBallTemplate",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(N.prototype,"gameManager",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(N.prototype,"mainCamera",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(N.prototype,"uiTransform",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(N.prototype,"guideLine",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=N))||x));l._RF.pop()}}}));

System.register("chunks:///_virtual/TreasureBoxEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,u,a,l,c,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,u=e._decorator,a=e.Node,l=e.CCFloat,c=e.Vec3,p=e.tween,s=e.Component}],execute:function(){var f,h,b,g,y,d,x,v,B,m,w,z,T,E,j;o._RF.push({},"e79f96Suu5E07aChYDpxFnG","TreasureBoxEffect",void 0);var C=u.ccclass,D=u.property;e("TreasureBoxEffect",(f=C("TreasureBoxEffect"),h=D({type:a}),b=D({type:a}),g=D({type:a}),y=D({type:a}),d=D({type:l}),x=D({type:l}),f((m=t((B=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,r(t,"treasureBox",m,n(t)),r(t,"openedBox",w,n(t)),r(t,"light1",z,n(t)),r(t,"lgith2",T,n(t)),r(t,"duration",E,n(t)),r(t,"jumpHeight",j,n(t)),t}i(t,e);var o=t.prototype;return o.start=function(){var e=this;setTimeout((function(){e.bounceOut()}))},o.bounceOut=function(){var e=this,t=this.treasureBox.position.clone(),i=t.clone().add(new c(0,this.jumpHeight,0));p(this.treasureBox).to(.5*this.duration,{position:i},{easing:"sineOut"}).to(.5*this.duration,{position:t},{easing:"bounceOut"}).call((function(){e.treasureBox.active=!1,e.openedBox.active=!0,e.lgith2.active=!0,e.light1.active=!0})).start()},t}(s)).prototype,"treasureBox",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(B.prototype,"openedBox",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(B.prototype,"light1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(B.prototype,"lgith2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(B.prototype,"duration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),j=t(B.prototype,"jumpHeight",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),v=B))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./AudioController.ts"],(function(t){var n,e,o,r,i,l,a,u,c,p,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.Node,u=t.Component},function(t){c=t.gameEndEvent,p=t.playAudioEvent},function(t){s=t.AUDIO_CLIP}],execute:function(){var d,f,v,w,y,h,m;i._RF.push({},"9f4584KVRFIj5XUrlRzDHaN","UIController",void 0);var I=l.ccclass,b=l.property;t("UIController",(d=I("UIController"),f=b({type:a}),v=b({type:a}),d((h=n((y=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),l=0;l<e;l++)i[l]=arguments[l];return n=t.call.apply(t,[this].concat(i))||this,o(n,"downloadView",h,r(n)),o(n,"downloadBtn",m,r(n)),n}e(n,t);var i=n.prototype;return i.start=function(){var t=this;c.on((function(){t.downloadBtn.active=!1,t.downloadView.active=!0,setTimeout((function(){p.emit(s.win)}),200)}))},i.update=function(t){},n}(u)).prototype,"downloadView",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(y.prototype,"downloadBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=y))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){var n,r;return{setters:[function(t){n=t.cclegacy,r=t.color}],execute:function(){t({customIncludes:function(t,n,r){void 0===r&&(r=0);if(r>=t.length)return!1;r<0&&(r=Math.max(0,t.length+r));for(var e=r;e<t.length;e++)if(t[e]===n)return!0;return!1},distanceBetweenPoints:function(t,n){return n.clone().subtract(t).lengthSqr()},getRandomElement:function(t,n){var r=t.filter((function(t){return t!==n})),e=Math.floor(Math.random()*r.length);return r[e]},randomColor:function(){return r(255*Math.random(),255*Math.random(),255*Math.random())}}),n._RF.push({},"b7716bSaR5DJ6M/HTHe+4PQ","Utils",void 0),n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});